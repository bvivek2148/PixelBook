import { useParameter, addons, useEffect, useMemo } from '@storybook/preview-api';
import f from 'react';

var A=Object.defineProperty;var D=(e,t)=>{for(var r in t)A(e,r,{get:t[r],enumerable:!0});};var S={};D(S,{initializeThemeState:()=>c,pluckThemeFromContext:()=>i,useThemeParameters:()=>a});var _="@storybook/addon-styling",C=`${_}/theme-switcher`,l="theming",g="theme";var R={},x={REGISTER_THEMES:`${C}/REGISTER_THEMES`};function i({globals:e}){return e[g]||""}function a(){return useParameter(l,R)}function c(e,t){addons.getChannel().emit(x.REGISTER_THEMES,{defaultTheme:t,themes:e});}var M="html",y=e=>e.split(" ").filter(Boolean),w=({themes:e,defaultTheme:t,parentSelector:r=M})=>(c(Object.keys(e),t),(o,T)=>{let{themeOverride:h}=a(),s=i(T);return useEffect(()=>{let n=h||s||t,m=document.querySelector(r);Object.entries(e).filter(([d])=>d!==n).forEach(([d,u])=>{let E=y(u);E.length>0&&m.classList.remove(...E);});let p=y(e[n]);p.length>0&&m.classList.add(...p);},[h,s,r]),o()});var O="html",b="data-theme",V=({themes:e,defaultTheme:t,parentSelector:r=O,attributeName:o=b})=>(c(Object.keys(e),t),(T,h)=>{let{themeOverride:s}=a(),n=i(h);return useEffect(()=>{let m=document.querySelector(r),p=s||n||t;m.setAttribute(o,e[p]);},[s,n,r,o]),T()});var v=([e,t])=>t,Q=({Provider:e,GlobalStyles:t,defaultTheme:r,themes:o={}})=>{let T=Object.keys(o);return c(T,r||T[0]),(h,s)=>{let{themeOverride:n}=a(),m=i(s),p=useMemo(()=>{let u=n||m||r,E=Object.entries(o);return E.length===1?v(E[0]):o[u]},[o,m,n]),d=e||f.Fragment;return f.createElement(d,{theme:p},t&&f.createElement(t,null),h())}};var ne={};

export { S as DecoratorHelpers, ne as default, w as withThemeByClassName, V as withThemeByDataAttribute, Q as withThemeFromJSXProvider };
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.mjs.map