'use strict';

Object.defineProperty(exports, '__esModule', { value: true });

var previewApi = require('@storybook/preview-api');
var f = require('react');

function _interopDefault (e) { return e && e.__esModule ? e : { default: e }; }

var f__default = /*#__PURE__*/_interopDefault(f);

var A=Object.defineProperty;var D=(e,t)=>{for(var r in t)A(e,r,{get:t[r],enumerable:!0});};var S={};D(S,{initializeThemeState:()=>c,pluckThemeFromContext:()=>i,useThemeParameters:()=>a});var _="@storybook/addon-styling",C=`${_}/theme-switcher`,l="theming",g="theme";var R={},x={REGISTER_THEMES:`${C}/REGISTER_THEMES`};function i({globals:e}){return e[g]||""}function a(){return previewApi.useParameter(l,R)}function c(e,t){previewApi.addons.getChannel().emit(x.REGISTER_THEMES,{defaultTheme:t,themes:e});}var M="html",y=e=>e.split(" ").filter(Boolean),w=({themes:e,defaultTheme:t,parentSelector:r=M})=>(c(Object.keys(e),t),(o,T)=>{let{themeOverride:h}=a(),s=i(T);return previewApi.useEffect(()=>{let n=h||s||t,m=document.querySelector(r);Object.entries(e).filter(([d])=>d!==n).forEach(([d,u])=>{let E=y(u);E.length>0&&m.classList.remove(...E);});let p=y(e[n]);p.length>0&&m.classList.add(...p);},[h,s,r]),o()});var O="html",b="data-theme",V=({themes:e,defaultTheme:t,parentSelector:r=O,attributeName:o=b})=>(c(Object.keys(e),t),(T,h)=>{let{themeOverride:s}=a(),n=i(h);return previewApi.useEffect(()=>{let m=document.querySelector(r),p=s||n||t;m.setAttribute(o,e[p]);},[s,n,r,o]),T()});var v=([e,t])=>t,Q=({Provider:e,GlobalStyles:t,defaultTheme:r,themes:o={}})=>{let T=Object.keys(o);return c(T,r||T[0]),(h,s)=>{let{themeOverride:n}=a(),m=i(s),p=previewApi.useMemo(()=>{let u=n||m||r,E=Object.entries(o);return E.length===1?v(E[0]):o[u]},[o,m,n]),d=e||f__default.default.Fragment;return f__default.default.createElement(d,{theme:p},t&&f__default.default.createElement(t,null),h())}};var ne={};

exports.DecoratorHelpers = S;
exports.default = ne;
exports.withThemeByClassName = w;
exports.withThemeByDataAttribute = V;
exports.withThemeFromJSXProvider = Q;
//# sourceMappingURL=out.js.map
//# sourceMappingURL=index.js.map